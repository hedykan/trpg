# 一个基于go实现的trpg框架

## 是什么
这是一个基于go实现的跑团框架，

## 为什么
我是一名A岛岛民，在

## 系统详解
这是一个基于go实现的跑团api，由几个模块组成：
1. 故事系统 (DOWN)
2. 跑团操作系统 (DOWN)
3. 掷骰系统
4. 属性系统(角色卡)
5. 情报系统(可获取的情报记录)
6. 角色系统(kp/pl分类，token分类，可换kp/pl，也可多kp)
7. 多故事系统(同时运行多个故事，可一个系统跑多个团)
总的来说，这个程序的操作员/管理员应该是kp。  
但是跑团作为一个大家都能参与的游戏来看，其实整个故事的发生与结束都是由所有的参与者决定的。  
为了保证故事的流畅性以及体验感，pl的使用权限将在下面给出。  

## 操作说明
在根目录`go build`后会生成目标可执行程序。  
运行后将监听`:12345`端口。  

## 目前支持操作
### 故事相关api(kp权限)
故事可以预先设计好，也可以现编添加，使用添加/链接接口就可以了
1. 故事展示`/story/list`
2. 故事节点获取`/story/get?id`

### 跑团相关api(pl/kp权限)
1. 故事运行状态重置`/run/status_reset`
2. 故事运行状态获取`/run/status_list`
3. 故事运行当前故事节点获取`/run/now_node_get`
4. 故事运行执行`/run/step?id`
```bash
# 示例
$ curl http://127.0.0.1:12345/store/list
{"code":200,"data":[{"Id":1,"Val":"hello world","Input":[0,1],"Output":[2]},{"Id":2,"Val":"hello world","Input":[0,1],"Output":[2]}],"msg":"ok"}
```